{"version":3,"sources":["components/header/header.component.js","components/sidebar/sidebar.component.js","containers/visitor-logs/visitor-logs.component.js","App.js","index.js"],"names":["Header","className","Sidebar","selectors","Data","Selectors","defaultColumnProperties","sortable","filterable","columns","key","name","editable","map","c","sortRows","initialRows","sortColumn","sortDirection","rows","sort","a","b","handleFilterChange","filter","filters","newFilters","filterTerm","column","VisitorLogs","useState","setFilters","setRows","dataGridRef","setDataGridRef","useEffect","fetch","response","json","data","fetchData","onToggleFilter","filteredRows","getRows","ref","rowGetter","i","rowsCount","length","minHeight","onAddFilter","onClearFilters","onGridSort","App","ReactDOM","render","document","getElementById"],"mappings":"8TAWeA,G,YAPA,kBACb,4BAAQC,UAAU,gBAChB,yBAAKA,UAAU,kBAAf,iBACA,yBAAKA,UAAU,qBAAf,mBCcWC,G,MAjBC,kBACd,yBAAKD,UAAU,oBACb,wBAAIA,UAAU,WAAd,WACA,4BACE,wBAAIA,UAAU,WAAd,eACA,wCAGF,wBAAIA,UAAU,WAAd,UACA,4BACE,wBAAIA,UAAU,WAAd,sBACA,uCACA,2C,koBCVN,IAAME,EAAYC,OAAKC,UACjBC,EAA0B,CAC9BC,UAAU,EACVC,YAAY,GAERC,EAAU,CAEd,CAAEC,IAAK,eAAgBC,KAAM,QAASC,UAAU,GAChD,CAAEF,IAAK,aAAcC,KAAM,aAAcC,UAAU,GACnD,CAAEF,IAAK,YAAaC,KAAM,OAAQC,UAAU,GAC5C,CAAEF,IAAK,eAAgBC,KAAM,UAAWC,UAAU,IAElDC,KAAI,SAAAC,GAAC,YAASA,EAAT,GAAeR,MAEhBS,EAAW,SAACC,EAAaC,EAAYC,GAA1B,OAA4C,SAAAC,GAQ3D,MAAyB,SAAlBD,EAA2BF,EAAc,YAAIG,GAAMC,MAPzC,SAACC,EAAGC,GACnB,MAAsB,QAAlBJ,EACKG,EAAEJ,GAAcK,EAAEL,GAAc,GAAK,EACjB,SAAlBC,EACFG,EAAEJ,GAAcK,EAAEL,GAAc,GAAK,OADvC,OAOLM,EAAqB,SAAAC,GAAM,OAAI,SAAAC,GACnC,IAAMC,EAAU,KAAQD,GAMxB,OALID,EAAOG,WACTD,EAAWF,EAAOI,OAAOlB,KAAOc,SAEzBE,EAAWF,EAAOI,OAAOlB,KAE3BgB,IAiDMG,MA1Cf,WAAwB,IAAD,EACSC,mBAAS,IADlB,mBACdL,EADc,KACLM,EADK,OAEGD,mBAAS,IAFZ,mBAEdX,EAFc,KAERa,EAFQ,OAGiBF,mBAAS,MAH1B,mBAGdG,EAHc,KAGDC,EAHC,KAKrBC,qBAAU,YACO,uCAAG,8BAAAd,EAAA,4DAEd,+EAFc,SAGOe,MADrB,gFAFc,cAGVC,EAHU,gBAIGA,EAASC,OAJZ,OAIVC,EAJU,OAKhBP,EAAQO,GALQ,2CAAH,qDAOfC,KACC,IAEHL,qBAAU,WACJF,GAAeA,EAAYQ,gBAC7BR,EAAYQ,mBAEb,CAACR,IAEJ,IAAMS,EA1BR,SAAiBvB,EAAMM,GACrB,OAAOtB,EAAUwC,QAAQ,CAAExB,OAAMM,YAyBZkB,CAAQxB,EAAMM,GAEnC,OACE,yBAAKxB,UAAU,gBACb,kBAAC,IAAD,CACE2C,IAAKV,EACLzB,QAASA,EACToC,UAAW,SAAAC,GAAC,OAAIJ,EAAaI,IAC7BC,UAAWL,EAAaM,OACxBC,UAAW,IACXC,YAAa,SAAA1B,GAAM,OAAIO,EAAWR,EAAmBC,KACrD2B,eAAgB,kBAAMpB,EAAW,KACjCqB,WAAY,SAACnC,EAAYC,GAAb,OACVc,EAAQjB,EAASI,EAAMF,EAAYC,S,MC3D9BmC,MAZf,WACE,OACE,oCACE,kBAAC,EAAD,MACA,yBAAKpD,UAAU,QACb,kBAAC,EAAD,CAASA,UAAU,cACnB,kBAAC,EAAD,CAAaA,UAAU,iBCV/BqD,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.46789ad8.chunk.js","sourcesContent":["import React from 'react';\n\nimport './header.styles.scss';\n\nconst Header = () => (\n  <header className=\"grid bg-dark\">\n    <div className=\"grid-cell logo\">Proxy Visitor</div>\n    <div className=\"grid-cell company\">Company Name</div>\n  </header>\n);\n\nexport default Header;","import React from 'react';\n\nimport './sidebar.styles.scss';\n\nconst Sidebar = () => (\n  <div className=\"sidebar bg-light\">\n    <h5 className=\"heading\">Analyse</h5>\n    <ul>\n      <li className=\"current\">Visitor Log</li>\n      <li>Reports</li>\n    </ul>\n\n    <h5 className=\"heading\">Manage</h5>\n    <ul>\n      <li className=\"current\">Visitor Experience</li>\n      <li>Invites</li>\n      <li>Devices</li>\n    </ul>\n  </div>\n);\n\nexport default Sidebar;","import React, { useState, useEffect } from 'react';\nimport ReactDataGrid from 'react-data-grid';\nimport { Data } from 'react-data-grid-addons';\n\nimport './visitor-logs.styles.scss';\n\nconst selectors = Data.Selectors;\nconst defaultColumnProperties = {\n  sortable: true,\n  filterable: true,\n};\nconst columns = [\n  // { key: \"visit_id\", name: \"ID\", editable: false },\n  { key: \"visitor_name\", name: \"Title\", editable: false },\n  { key: \"visit_date\", name: \"Visit Date\", editable: false },\n  { key: \"host_name\", name: \"Host\", editable: false },\n  { key: \"host_company\", name: \"Company\", editable: false },\n  // { key: \"visitor_check_in\", name: \"Checked In\", editable: false }\n].map(c => ({...c, ...defaultColumnProperties}));\n\nconst sortRows = (initialRows, sortColumn, sortDirection) => rows => {\n  const comparer = (a, b) => {\n    if (sortDirection === \"ASC\") {\n      return a[sortColumn] > b[sortColumn] ? 1 : -1;\n    } else if (sortDirection === \"DESC\") {\n      return a[sortColumn] < b[sortColumn] ? 1 : -1;\n    }\n  };\n  return sortDirection === \"NONE\" ? initialRows : [...rows].sort(comparer);\n};\n\nconst handleFilterChange = filter => filters => {\n  const newFilters = { ...filters };\n  if (filter.filterTerm) {\n    newFilters[filter.column.key] = filter;\n  } else {\n    delete newFilters[filter.column.key];\n  }\n  return newFilters;\n};\n\nfunction getRows(rows, filters) {\n  return selectors.getRows({ rows, filters });\n}\n\nfunction VisitorLogs() {\n  const [filters, setFilters] = useState({});\n  const [rows, setRows] = useState([]);\n  const [dataGridRef, setDataGridRef] = useState(null);\n  \n  useEffect(() => {\n    const fetchData = async () => {\n      const apiUrl =\n        \"https://epic-gates-a1c2f8.netlify.com/.netlify/functions/getVisits?count=100\";\n      const response = await fetch(apiUrl);\n      const data = await response.json();\n      setRows(data);\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    if (dataGridRef && dataGridRef.onToggleFilter) {\n      dataGridRef.onToggleFilter();\n    }\n  }, [dataGridRef])\n  \n  const filteredRows = getRows(rows, filters);\n\n  return (\n    <div className=\"visitor-logs\">\n      <ReactDataGrid\n        ref={setDataGridRef}\n        columns={columns}\n        rowGetter={i => filteredRows[i]}\n        rowsCount={filteredRows.length}\n        minHeight={500}\n        onAddFilter={filter => setFilters(handleFilterChange(filter))}\n        onClearFilters={() => setFilters({})}\n        onGridSort={(sortColumn, sortDirection) =>\n          setRows(sortRows(rows, sortColumn, sortDirection))\n        }\n      />\n    </div>\n  );\n}\n\nexport default VisitorLogs;","import React from 'react';\n\nimport Header from './components/header/header.component';\nimport Sidebar from './components/sidebar/sidebar.component';\n\nimport VisitorLogs from './containers/visitor-logs/visitor-logs.component';\n\nimport './App.scss';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <div className=\"grid\">\n        <Sidebar className=\"grid-cell\" />\n        <VisitorLogs className=\"grid-cell\" />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}